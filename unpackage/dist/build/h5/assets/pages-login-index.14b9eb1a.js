import{r as e,j as a,o as l,a as s,d as t,w as u,c as o,f as r,e as n,F as c,s as d,k as i,I as p,l as m,m as f,i as v,t as _}from"./index-78b71ae6.js";import{_ as h,a as y}from"./uni-forms.22c110d1.js";import{o as g,r as w}from"./uni-app.es.27f7652a.js";import{l as j}from"./user.826dc819.js";import{u as k}from"./user.ccf31787.js";import{_ as b}from"./_plugin-vue_export-helper.1b428a4d.js";import"./uni-fetch.281d61b3.js";const V=b({__name:"account",setup(v){const _=k(),b=e(),V=e(""),x=e(""),M=e({account:"",password:""});g((e=>{V.value=e.redirectUrl,x.value=e.routeType}));const T=e({account:{rules:[{required:!0,errorMessage:"请输入登录账号"},{pattern:/^[a-zA-Z0-9]{6,8}$/,errorMessage:"登录账号格式不正确"}]},password:{rules:[{required:!0,errorMessage:"请输入登录密码"},{pattern:/^\d{6}$/,errorMessage:"登录密码格式不正确"}]}}),I=async()=>{try{const e=await b.value.validate(),a=await j(e);_.token=a.data,"switchTab"===x.value?d({url:V.value}):"redirectTo"===x.value?i({url:V.value}):d({url:"/pages/my/index"})}catch(e){console.log("e",e)}},C=e(!1),U=e=>{e.detail.value.length>0?C.value=!0:C.value=!1},q=()=>{M.value.password="",C.value=!1};return(e,d)=>{const i=p,v=w(a("uni-forms-item"),h),_=m,g=w(a("uni-forms"),y),j=f;return l(),s(c,null,[t(g,{ref_key:"accountForm",ref:b,rules:T.value,class:"uni-form",modelValue:M.value},{default:u((()=>[t(v,{name:"account"},{default:u((()=>[t(i,{"placeholder-style":"color: #818181",type:"text",modelValue:M.value.account,"onUpdate:modelValue":d[0]||(d[0]=e=>M.value.account=e),placeholder:"请输入账号"},null,8,["modelValue"])])),_:1}),t(v,{name:"password"},{default:u((()=>[t(i,{"placeholder-style":"color: #818181",type:"password",modelValue:M.value.password,"onUpdate:modelValue":d[1]||(d[1]=e=>M.value.password=e),placeholder:"请输入密码",onInput:U},null,8,["modelValue"]),C.value?(l(),o(_,{key:0,class:"iconfont icon-clear",onClick:q})):r("",!0)])),_:1})])),_:1},8,["rules","modelValue"]),t(j,{onClick:I,class:"submit-button"},{default:u((()=>[n("登录")])),_:1})],64)}}},[["__scopeId","data-v-e32f3eb1"]]);const x=b({},[["render",function(e,a){return null}]]),M=b({__name:"index",setup(a){const s=e([{title:"账号登录",subTitle:"手机号登陆"},{title:"手机号登陆",subTitle:"账号登录"}]),r=e(0),c=()=>{r.value=Math.abs(r.value-1)};return(e,a)=>{const d=v,i=m;return l(),o(d,{class:"login"},{default:u((()=>[t(d,{class:"login-top"},{default:u((()=>[t(d,{class:"title"},{default:u((()=>[n("神领快递")])),_:1})])),_:1}),t(d,{class:"login-head"},{default:u((()=>[t(d,{class:"headBig"},{default:u((()=>[n(_(s.value[r.value].title),1)])),_:1}),t(d,{class:"headMini"},{default:u((()=>[t(i,{class:"type",onClick:c},{default:u((()=>[n(_(s.value[r.value].subTitle),1)])),_:1}),t(i,{class:"iconfont icon-caret"})])),_:1})])),_:1}),0===r.value?(l(),o(V,{key:0})):(l(),o(x,{key:1}))])),_:1})}}},[["__scopeId","data-v-dc5ffde2"]]);export{M as default};
