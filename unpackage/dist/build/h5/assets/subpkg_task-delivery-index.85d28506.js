import{r as e,K as l,o as a,c as i,w as t,i as s,d as u,e as o,z as r,E as n,j as c,m as d}from"./index-78b71ae6.js";import{_ as p}from"./uni-file-picker.846d70a9.js";import{o as m,r as f}from"./uni-app.es.27f7652a.js";import{d as v}from"./task.ca8b630f.js";import{_ as g}from"./_plugin-vue_export-helper.1b428a4d.js";import"./uni-fetch.281d61b3.js";import"./user.ccf31787.js";const j=g({__name:"index",setup(g){const j=e("");m((e=>{j.value=e.id}));const _=e([]),b=e([]),x=l((()=>_.value.map((e=>({url:e.url}))))),k=l((()=>b.value.map((e=>({url:e.url}))))),y=l((()=>x.value.length>0&&k.value.length>0));console.log("enableSubmit=>",y.value),console.log("deliverPictureList=>",x.value),console.log("certificatePictureList=>",k.value);const V=async()=>{try{const e={id:j.value,deliverPictureList:x.value,certificatePictureList:k.value};await v(e);n({url:"/pages/task/index"})}catch(e){console.log(e)}};return(e,l)=>{const n=f(c("uni-file-picker"),p),m=s,v=d;return a(),i(m,{class:"delivery-page"},{default:t((()=>[u(m,{class:"delivery-info"},{default:t((()=>[u(n,{modelValue:_.value,"onUpdate:modelValue":l[0]||(l[0]=e=>_.value=e),fileMediatype:"image","file-extname":"jpg,webp,gif,png",title:"请拍照上传回单凭证",limit:"3"},null,8,["modelValue"]),u(n,{modelValue:b.value,"onUpdate:modelValue":l[1]||(l[1]=e=>b.value=e),fileMediatype:"image","file-extname":"jpg,webp,gif,png",title:"请拍照上传回单凭证",limit:"3"},null,8,["modelValue"])])),_:1}),u(v,{onClick:V,disabled:!r(y),class:"button"},{default:t((()=>[o("提交")])),_:1},8,["disabled"])])),_:1})}}},[["__scopeId","data-v-9193913c"]]);export{j as default};
